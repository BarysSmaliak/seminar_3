# **Инструкция по работе с Git**

## Общая информация о Git

Git - это система упйравления версиями (также можно сказать «система контроля версий»). Git позволяет хранить несколько версий одного и того же документа, при необходимости возвращаться к более ранним версиям, определять, кто и когда сделал то или иное изменение.

## Проверка корректности установки Git

Перед началом работы с Git желательно убедиться в том, что программа установлена корректно (и, вообще, установлена :-)
Для такой проверки используется команда

    git --version

Если результатом выполнения команды является строка вида:

*git version 2.39.1* (или иные цифры, обозначающие номер версии)

то программа Git установлена корректно

## Создание нового репозитория

Чтобы создать (инициализировать) новый репозиторий в текущей папке необходимо в терминале выполнить команду

    git init

В результате выполнения данной команды Git начнет в данной папке отслеживать изменения файлов

## Проверка состояния репозитория

Проверить состояние только что созданного (либо созданного ранее) репозитория можно при помощи команды:

    git status

Результатом выполнения данной команды станет:

1. строка вида:

*On branch master*
    
*nothing to commit, working tree clean*

 в том случае, если последняя версия отслеживаемого файла содержит все его изменния, и каких-либо незафиксированных изменений нет.

**!!!ВАЖНО** Все изменения сначалы должны быть сохранены в самом файле (Ctrl + S). О том, что это не так сигнализирует жирная точка правее названия файла в верхней панели Visual Studio Code.

 2. строка вида:

*use "git add file..." to update what will be committed*

*modified:   instruction_git.md* (красным цветом)

в том случае, когда есть не добавленные в новую версию файла изменения. 

3. строка вида:

*On branch master*

*Changes to be committed:*

*(use "git restore --staged file..." to unstage)*

*modified:   instruction_git.md* (зелёным цветом)

в том случае, когда есть добавленные изменения, но они не зафиксированы в новой версии файла

## Добавление изменений к индексу

Изменения добавляются к индексу командой 

    gif add <имя файла>

Нужно отметить, что набирать название файла полностью в строке команды не обязательно. Достаточно набрать первые 3-5 символов названия файла и нажать Tab.

В результате выполнения команды *gif add* никаких новых данных на экране терминала не появится, будет снова выведена строка пути к отслеживаемому файлу. Это как раз и является показателем корректного добавления изменений к индексу.

## Фиксация изменений

После добавления изменений (можно нескольких) нужно их зафиксировать в новой версии файла. Фиксация происходит при помощи команды:

    gif commit

Кроме фиксации изменений команда *gif commit* позволяет оставить комментарий к текущему коммиту. Если мы вводим эту команду без дополнительных параметров (так, как показано выше), то сначала откроется редактор текста, в котором свой комментарий мы и можем оставить. 

**!!!ВАЖНО!** Для начала печати в редакторе необходимо нажать клавишу "A". После написания комментария выход из редактора осуществляется последовательным нажатием (раскладка клавиатуры - **английская!**):

- Клавишу Esc
- :qw
- Клавишу Enter

Нужно отметить, что не в любом редакторе необходима такая последовательность действий. В Powershell, к которому обращается в моём случае VSC, достаточно после написания комментария нажать на галочку справа от имени файла в верхней панели VSC.

Для ускорения работы команда *git commit* может быть использована с дополнительными параметрами:

1. git commit -m "комментарий"

позволяет без вызова редактора оставить короткий комментарий к коммиту

2. git commit -a

позволяет без комментирования зафиксировать все изменения в коммите

3. git commit -am "коментарий"

Позволяет без использования команды *git add* сразу и добавить, и зафиксировать все изменения в коммите

## Проверка состояния репозитория

Для проверки состояния репозитория, а имеено для вывода на экран терминала всех зафиксированных коммитов, используется команда 

    git log

Результатом ввода данной команды будет список коммитов для выбранного репозитория. Каждый коммит будет содержать следующую информацию:

- свой уникальный номер

- Имя автора и его электронную почту

- дату создания

- комментарий

Команда *git log* может быть использована с дополнительными параметрами:

1. git log --oneline

этот параметр позволяет минимизировать выводимую на экран терминала информацию. Мы увидим первые несколько цифр уникального номера коммита (этого нам будет достаточно для дальнейшей работы с ним) и комментарий

2. git log --all

этот параметр позволяет вывести на экран терминала все коммиты, даже те, которые условно "в будующем" (в том случае, когда вы откатили состояние репозитория на несколько коммитов назад)

3. git log --all --oneline

этот параметр совмещает возможности обоих предыдущих параметров

## Откат состояния репозитория до определённого предыдущего коммита и возвращение к последней версии

В случае, когда необходимо перейти к более ранней версии репозитория, используется команда 

    git checkout <номер коммита>

номер необходимого коммита мы можем получить благодаря команде *git log* (см.выше)

Возврат к последней версии осуществляется командой

    git checkout master

## Неотслеживаемые в репозитории файлы

Может возникнуть необходимость в том, чтобы Git не ослеживал изменения каких-либо файлов в репозитории. Чаще всего такими файлами являются изображения.

Предположим, что в нашем отслеживаемом файле должна содержаться определенная картинка. Для того, чтобы вывести её на экран, мы должны сделать следующее:

1. скопировать файл с картинкой в папку репозитория

2. разместить картинку в нужном месте файла при помощи вот такой команды:

    ![Это моя дочь)))](111.jpg)

А далее, для того что-бы Git не отслеживал её, сделаем следующее:

3. создадим в папке репозитория файл с именем <.gitignor>

4. Запишем в этом файле названия тех файлов, которые Git не должен отслеживать, и закоммитим этот файл.

## Просмотр изменений в текущей незакоммиченной версии

Просмотреть не добавленные в индекс изменения позволяет команда

    git diff

Результатом выполнения команды станет список изменений текущего репозитория, в котором зелёным цветом будут отмечены добавленные строки, а красным - удалённые

Также команда *git diff* может сравнивать версии репозитория между собой. Для этого она вводится в виде:

    git diff <номер коммита 1> <номер коммита 2>

 Результатом станет вывод на экран терминала тех строк, которыми указанные коммиты различаются. Причем зелёным цветом будут помечены те строки, которые добавлены во ворой коммит по сравнению с первым, а красным цветом - удалённые

 ## Ветвление репозитория

Программа Git позволяет работать с репозиторием используя несколько веток. Это необходимо, в первую очередь, при соместной работе нескольких человек над одним проектом. В случае такой работы каждый из участников работает в своей ветке, и, при готовности своей части работы, вливает результат в основную ветку репозитория (она, как правило, называется *master*).

Git позволяет создавать ветки, переходить между ними, сливать ветки, и удалять их.

Для того, чтобы посмотреть какие ветки репозиторий имеет в текущий момент, используется команда 

    git branch

Результатом выполнения команды станет вывод в окне терминала названия всех текущих веток репозитория. Та ветка, в которой находимся в намтоящий момент мы, будет отмечена зелёным цветом.

### Создание ветки

Отдельная ветка создаётся при помощи команды 

    git branch <branchname>



### Переходы между ветками



### Слияние веток



### Удаление веток



### Просмотр дерева ветвления

